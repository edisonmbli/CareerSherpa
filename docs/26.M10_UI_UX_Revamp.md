# M10 UI/UX 重构设计方案 (Design Revamp Proposal)

> **目标**: 将简历定制功能从 "Demo" 级别提升至 "Production" 级别，打造专业、流畅、高信心的用户体验。
> **状态**: Active (Iterating)
> **日期**: 2025-12-16

## 1. 核心设计理念 (Design Principles)

1.  **专业感 (Professionalism)**: 使用克制、干练的色彩（Slate/Gray/Blue），强调信息层级，避免花哨的装饰。
2.  **沉浸式 (Immersive)**: 最大化内容区域（简历预览），将工具栏和辅助信息收纳至周边，提供“所见即所得”的专注创作环境。
3.  **高信心 (Confidence)**: 通过 AI 建议的显性化展示、细致的样式微调能力，让用户掌控每一个细节。

---

## 2. 全局布局优化 (Global Workbench Layout)

### 2.1 侧边栏 (Sidebar) 升级

**问题**: 当前折叠状态下图标未居中，引导性弱。
**方案**:

- **折叠态 (Collapsed)**:
  - 宽度固定为 `48px` 或 `64px`。
  - “新建服务”按钮变为仅图标（`Plus`），**绝对居中**。
  - 历史记录项仅显示首字母或图标，**绝对居中**，Hover 时显示完整标题 Tooltip。
  - 底部收起/展开按钮优化为明确的箭头图标。
- **展开态 (Expanded)**:
  - 保持现有逻辑，但优化 Padding 和 Typography。
- **自动折叠**: 进入 Step 2 (Customize) 完成态时，默认自动折叠侧边栏，为编辑器腾出空间。

### 2.2 状态控制台 (StatusConsole) 策略

**问题**: 完成态下占据宝贵的顶部空间。
**方案**:

- **进行中 (Running)**: 保持显著展示（进度条、日志）。
- **完成态 (Completed)**:
  - **完全隐藏** `StatusConsole` 组件。
  - 将关键状态（如“已扣费 1 金币”）移至 Step Tab 的角标或 ResultCard 的角落。
  - 释放出的 100px+ 垂直空间完全留给工作区。

---

## 3. 简历编辑器重构 (Resume Editor Revamp)

**彻底重构**目前的“左侧表单 + 右侧预览”布局，采用更符合文档编辑习惯的 **“顶部工具栏 + 中间画布 + 右侧属性面板”** 布局。

### 3.1 布局架构 (The Layout)

```
+---------------------------------------------------------------+
|  [Header] 顶部工具栏 (Toolbar)                                  |
+---------------------------------------------------------------+
|       |                                         |             |
| [L]   |                                         |  [R]        |
| 结    |             [Center Canvas]             |  属         |
| 构    |                                         |  性         |
| 大    |              简历预览画布                |  编         |
| 纲    |             (A4 Paper)                  |  辑         |
|       |                                         |             |
|       |                                         |             |
+---------------------------------------------------------------+
```

### 3.2 顶部工具栏 (Top Toolbar)

放置全局操作，高度 `56px`，背景 `bg-white`，下边框 `border-b`。

- **左侧功能区**:
  - **结构 (Structure)**: 按钮，点击控制左侧大纲栏显隐（默认显示）。
  - **模板 (Template)**: 紧凑型下拉菜单，显示当前模板名称。
  - **样式 (Style)**: `Popover` 按钮，提供高级排版控制：
    - **字体**: 提供 3-5 款商用免费字体（如 MiSans, Noto Serif, Lato）。
    - **行距 (Line Height)**: 滑块控制 (1.0 - 2.0)。
    - **字号 (Font Scale)**: 整体缩放系数 (0.8x - 1.2x)。
    - **间距 (Spacing)**: 模块间距、子项间距控制。
    - **页边距 (Margins)**: 上下左右页边距调整。
    - **主题色 (Theme Color)**: 保持现有拾色器。
- **右侧功能区**:
  - **AI 建议 (AI Tips)**: 按钮，控制右侧面板切换至“AI 优化建议”视图。
  - **导出 (Export)**: 组合按钮 (Split Button)
    - 主按钮: `导出 PDF`
    - 下拉选项: `导出 Markdown`, `复制 JSON`。

### 3.3 左侧：结构大纲 (Left Outline - Floating/Docked)

**功能**: 快速导航与排序。

- **形态**: 默认收起为小图标栏，点击展开为 `200px` 面板。
- **内容**: `SortableList` (dnd-kit)。
- **交互**: 拖拽调整章节顺序，点击滚动到对应位置。

### 3.4 中间：交互式画布 (Interactive Canvas)

**功能**: 所见即所得编辑。

- **视觉**: 深灰色背景 (`bg-gray-100/50`)，画布居中，添加真实阴影 (`shadow-2xl`)，上下左右保留足够呼吸空间 (Padding)。
- **交互**:
  - **Hover**: 鼠标悬停在某个 Section（如工作经历）上时，显示蓝色虚线边框 + “编辑”笔形图标。
  - **Click**:
    - 点击整个 Section 头部 -> 右侧面板加载该 Section 的列表管理/通用配置。
    - **点击具体 Item (如某一段工作经历)** -> 右侧面板加载**该特定 Item** 的编辑表单。
  - **Avatar**: 简历头部支持头像展示与点击上传/替换。

### 3.5 右侧：属性/建议面板 (Right Property/Tips Panel)

**功能**: 编辑表单与 AI 辅助。

- **视觉**: 移除厚重的 `shadow-xl`，使用清爽的边框 (`border-l`)。
- **状态**:
  - **默认/空态**: 展示 **AI 优化建议**。
    - **Markdown 渲染**: 优化建议不再是纯文本，而是经过排版的 Markdown（加粗、列表），字体大小与 UI 统一 (`text-sm`)。
  - **编辑态**: 展示对应 Section/Item 的表单。
- **表单优化**:
  - 头像上传：支持 Base64 存储 (MVP)，限制 300KB。

## 4. 移动端适配策略 (Mobile Adaptation)

(保持不变，桌面端优先)

---

## 6. 执行步骤 (Action Plan)

1.  **Layout Refactor**: 优化 Sidebar 居中对齐，实现 StatusConsole 自动隐藏逻辑。
2.  **Toolbar & Style**: 实现新的 ResumeToolbar，扩展 Zustand Store 以支持高级样式配置 (`styleConfig`)。
3.  **Editor Interactions**:
    - 改造 `InteractiveSection` 支持 Item 级别的点击 ID 传递。
    - 改造 `RightPropertyPanel` 支持 Item 级别的表单定位。
    - 优化 `optimizeSuggestion` 的 Markdown 渲染。
4.  **Avatar**: 在 `BasicsForm` 实现图片转 Base64 逻辑，并在模板中渲染。
5.  **Polish**: 调整画布间距，优化字体。
